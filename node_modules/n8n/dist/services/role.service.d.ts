import { CreateRoleDto, UpdateRoleDto } from '@n8n/api-types';
import { CredentialsEntity, SharedCredentials, SharedWorkflow, User, ListQueryDb, ScopesField, ProjectRelation, RoleRepository, ScopeRepository } from '@n8n/db';
import type { Scope, Role as RoleDTO, AssignableProjectRole } from '@n8n/permissions';
import { License } from '../license';
export declare class RoleService {
    private readonly license;
    private readonly roleRepository;
    private readonly scopeRepository;
    constructor(license: License, roleRepository: RoleRepository, scopeRepository: ScopeRepository);
    private dbRoleToRoleDTO;
    getAllRoles(): Promise<RoleDTO[]>;
    getRole(slug: string): Promise<RoleDTO>;
    removeCustomRole(slug: string): Promise<{
        displayName: string;
        description: string | null;
        slug: string;
        systemRole: boolean;
        roleType: "credential" | "project" | "workflow" | "global";
        licensed: boolean;
        scopes: string[];
    }>;
    private resolveScopes;
    updateCustomRole(slug: string, newData: UpdateRoleDto): Promise<{
        displayName: string;
        description: string | null;
        slug: string;
        systemRole: boolean;
        roleType: "credential" | "project" | "workflow" | "global";
        licensed: boolean;
        scopes: string[];
    }>;
    createCustomRole(newRole: CreateRoleDto): Promise<{
        displayName: string;
        description: string | null;
        slug: string;
        systemRole: boolean;
        roleType: "credential" | "project" | "workflow" | "global";
        licensed: boolean;
        scopes: string[];
    }>;
    checkRolesExist(roleSlugs: string[], roleType: 'global' | 'project' | 'workflow' | 'credential'): Promise<void>;
    addScopes(rawWorkflow: ListQueryDb.Workflow.WithSharing | ListQueryDb.Workflow.WithOwnedByAndSharedWith, user: User, userProjectRelations: ProjectRelation[]): ListQueryDb.Workflow.WithScopes;
    addScopes(rawCredential: CredentialsEntity, user: User, userProjectRelations: ProjectRelation[]): CredentialsEntity & ScopesField;
    addScopes(rawCredential: ListQueryDb.Credentials.WithSharing | ListQueryDb.Credentials.WithOwnedByAndSharedWith, user: User, userProjectRelations: ProjectRelation[]): ListQueryDb.Credentials.WithScopes;
    combineResourceScopes(type: 'workflow' | 'credential', user: User, shared: SharedCredentials[] | SharedWorkflow[], userProjectRelations: ProjectRelation[]): Scope[];
    isRoleLicensed(role: AssignableProjectRole): boolean;
}
